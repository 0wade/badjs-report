var REPORT=function(a){if(a.REPORT)return a.REPORT;var b=[];a.onerror=function(a,c,d,e,f){b.push({msg:a,url:c,line:d,col:e,error:f})};var c={id:0,uin:0,url:"",level:1,ignore:[],delay:300},d=function(a,b){return Object.prototype.toString.call(a)==="[object "+(b||"Object")+"]"},e=function(a,b){var c=[],e=[];if(d(a))for(var f in a){var g=a[f]||"";g&&(e.push(f+":"+g),c.push(f+"["+b+"]="+encodeURIComponent(g)))}return[c.join("&"),e.join(",")]},f=[],g=function(){if(c.report){var a=new Image;f.push(a);for(var g=[];b.length;){for(var h=!1,i=b.shift(),j=e(i,g.length),k=0,l=c.ignore;l>k;k++){var m=c.ignore[k];if(d(m,"RegExp")&&m.test(j[1])||d(m,"Function")&&m(i,j[1])){h=!0;break}}!h&&g.push(j[0])}g.length&&(a.src=c.report+g.join("&"))}},h=function(){setTimeout(function(){g(),h()},c.delay)},i=!1,j=a.REPORT={push:function(a){return b.push(d(a)?a:{msg:a}),j},report:function(){return g(),j},init:function(a){if(d(a))for(var b in a)c[b]=a[b];var e=parseInt(c.id,10);return e&&(c.report=c.url+"?id="+e+"&uin="+parseInt(c.uin,10)+"&from="+encodeURIComponent(location.href)+"&",!i&&h(),i=!0),j}};return j}(window);