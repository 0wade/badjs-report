var BJ_REPORT=function(a){if(a.REPORT)return a.REPORT;var b=[];a.onerror=function(a,c,d,e,f){b.push({msg:a,url:c,line:d,col:e,error:f})};var c={id:0,uin:0,url:"",combo:0,level:4,ignore:[],delay:100},d=function(a,b){return Object.prototype.toString.call(a)==="[object "+(b||"Object")+"]"},e=function(a,b){var e=[],f=[],g=[];if(d(a)){a.level=a.level||c.level;for(var h in a){var i=a[h]||"";i&&(g.push(h+":"+i),e.push(h+"="+encodeURIComponent(i)),f.push(h+"["+b+"]="+encodeURIComponent(i)))}}return[f.join("&"),g.join(","),e.join("&")]},f=[],g=function(){if(c.report){for(var a=[],g=null;b.length;){for(var h=!1,i=b.shift(),j=e(i,a.length),k=0,l=c.ignore;l>k;k++){var m=c.ignore[k];if(d(m,"RegExp")&&m.test(j[1])||d(m,"Function")&&m(i,j[1])){h=!0;break}}h||(c.combo?a.push(j[0]):(g=new Image,f.push(g),g.src=c.report+j[2]+"&t="+ +new Date))}var n=a.length;c.combo&&n&&(g=new Image,f.push(g),g.src=c.report+a.join("&")+"&count"+n+"&t="+ +new Date)}},h=function(){setTimeout(function(){g(),h()},c.delay)},i=!1,j=a.REPORT={push:function(a){return b.push(d(a)?a:{msg:a}),j},report:function(a){return a&&j.push(a),g(),j},init:function(a){if(d(a))for(var b in a)c[b]=a[b];var e=parseInt(c.id,10);return e&&(c.report=(c.url||"http://badjs2.qq.com/badjs")+"?id="+e+"&uin="+parseInt(c.uin||(document.cookie.match(/uin=\D+(\d+)/)||[])[1],10)+"&from="+encodeURIComponent(location.href)+"&",!i&&h(),i=!0),j}};return j}(window);